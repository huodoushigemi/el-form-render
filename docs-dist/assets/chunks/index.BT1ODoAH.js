import{d as z,L as q,ab as X,K as O,G as d,a$ as p,au as C,r as Y,H as N,C as F,p as J,aB as Z,at as ee,a7 as $,ah as D,k as te,a3 as ne,a1 as x,a8 as H,aG as T,aa as le,b0 as re,V as oe}from"./framework.Ds5Z0U_-.js";import{E as ue,f as ae,a as se,b as ie}from"./theme.COMzZt9I.js";function ce(e){if(!$(e))return D(e);const l=new Proxy({},{get(n,r,o){return te(Reflect.get(e.value,r,o))},set(n,r,o){return $(e.value[r])&&!$(o)?e.value[r].value=o:e.value[r]=o,!0},deleteProperty(n,r){return Reflect.deleteProperty(e.value,r)},has(n,r){return Reflect.has(e.value,r)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return D(l)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function de(e,l,n=!1){return l.reduce((r,o)=>(o in e&&(!n||e[o]!==void 0)&&(r[o]=e[o]),r),{})}for(var K=256,fe=[];K--;)fe[K]=(K+256).toString(16).substring(1);function me(e,l){return e.install=n=>{n.component(e.name,e),l==null||l.forEach(r=>n.component(r.name,r))},e}const ve=/^\d+$/,be=e=>Object.keys(e),b=(e,...l)=>typeof e=="function"?e(...l):e;function B(e,l){if(typeof l=="function")return l(e);for(const n of l.split("."))if(!(e=e[n]))break;return e}function w(e,l,n){return l.split(".").reduce((r,o,a,t)=>{var u;return a==t.length-1?r[o]=n:(u=r[o])!=null?u:r[o]=ve.test(t[a+1])?[]:{}},e)}function ge(e,l){var n;const r=l.split(".");r.length>1?(n=B(e,r.slice(0,-1).join(".")))==null||delete n[r[r.length-1]]:delete e[r[0]]}const _e=(e,l)=>Object.fromEntries(Object.entries(e).map(([n,r])=>[n,l(r)])),L=new WeakMap,ye=e=>{if(!e)return;if(L.has(e))return L.get(e).value;const l=J([]);L.set(e,l);const n=b(e);return Z(n)?n.then(r=>l.value=r.map(U)):l.value=n.map(U),l.value},G=e=>{var l;return(l=e==null?void 0:e.label)!=null?l:e==null?void 0:e.value},U=e=>ne(e)?{label:e,value:e}:x(e)?{label:e[0],value:e[1]}:e,he=(e,l,n={})=>({get(){const o=p(e),a=p(l);if(a==null)return;let t=B(n.untrackedGet?C(o):o,a);return n.get&&(t=n.get(t,o)),n.defaultValue!==void 0&&(t===void 0||t==="")&&w(o,a,t=b(n.defaultValue)),n.displayValue!==void 0&&(t===void 0||t==="")&&(t=b(n.displayValue)),t},set(o){const a=p(e),t=p(l);t!=null&&(n.silentSet?w(C(a),t,n.silentSet(o,a)):n.set?w(a,t,n.set(o,a)):w(a,t,o),n.out&&Object.assign(a,n.out(o,a)),o=B(a,t),n.displayValue!==void 0&&o===b(n.displayValue)&&ge(C(a),t))},get v(){return this.get()},set v(o){this.set(o)},get value(){return this.get()},set value(o){this.set(o)},__v_isRef:!0}),Fe={is:null,lp:[String,Array],type:String,defaultValue:null,displayValue:null,hide:[Boolean,Function],get:Function,set:Function,out:Function,options:[Array,Object,Function],rules:null,el:Object};function Re({defaultIs:e,processProps:l=n=>n}){const n=(t,u)=>T(t)?a(t,u):t,r=(t,u)=>{const{is:i,vIf:g,children:c,...f}=t=l(t,u,{provide:m=>u={...u,...m}});return!H(t,"vIf")||b(g)?d(N(i||e),f,x(c)?{default:()=>c.map(m=>n(m,u))}:T(c)?_e(c,m=>h=>o(m,u,h)):le(c)?{default:()=>{const m=c();return x(m)?m.map(h=>n(h,u)):m}}:c!=null&&!re(i)?{default:()=>c}:c):null},o=(t,u,i)=>{if(t.scope)if(t.scope[0]=="{"){u={...u};for(const f of t.scope.slice(1,-1).split(","))u[f.trim()]=i[f.trim()]}else u={...u,[t.scope]:i};const{vIf:g,children:c}=l(t,u,{provide:f=>u={...u,...f}});return!H(t,"vIf")||b(g)?x(c)?c.map(f=>n(f,u)):T(c)?a(c,u):c:null};function a(t,u={}){if(t.vFor){const{vFor:i}=t,{vFor:g}=l({vFor:i},u,{});if(x(g))return g[0].map((c,f)=>{const m={[g[1]||"item"]:c,[g[1]||"index"]:f};return r(t,{...u,...m})})}else return r(t,u)}return t=>{const u=q("vars",void 0);return a(t,u)}}const Ve={label:"label",prop:"prop",modelValue:"modelValue",rules:"rules",inputSlot:"default"};function Oe({Form:e,formName:l,formProps:n,FormItem:r,formItemName:o,formItemProps:a,Input:t,fields:u}){const i={...Ve,...u},g=be(a),c=Symbol(),f=s=>Array.isArray(s)?s:s?[s,X(s)]:[],m=s=>s[i.label]||f(s.lp)[0],h=s=>s[i.prop]||f(s.lp)[1],Q=(s,I)=>b(s[i.rules],I),M={...a,...Fe},A=z({props:M,name:o,setup(s,{slots:I}){const y=q(c),P=new Proxy({},{get:(R,v)=>{var _;return(_=y==null?void 0:y.model)==null?void 0:_[v]},set:(R,v,_)=>(y!=null&&y.model&&(y.model[v]=_),!0)}),S=he(P,()=>h(s),s);return()=>{var R;const v={...de(s,g),[i.label]:m(s),[i.prop]:h(s),[i.rules]:Q(s,P),".__transformer":S},_=O({[b(i.modelValue,s)]:S.get(),[`onUpdate:${b(i.modelValue,s)}`]:S.set},{...s.el||{},disabled:b((R=s.el)==null?void 0:R.disabled,P)});return b(s.hide,P)?void 0:d(r,v,{...I,default:void 0,[i.inputSlot]:()=>{var k,j;const E=Y(I,"default");return E.children[0]?E.children[0].props=Object.assign(_,E.children[0].props):(j=(k=E.children)[0])!=null||(k[0]=t({...s,el:_})),E}})}}}),W={...n,...{model:Object,items:Array}};return{FormRender:me(z({name:l,props:W,setup(s,{attrs:I,slots:y,expose:P}){const S=Re({defaultIs:v=>d(A,v,{default:y[`$${h(v)}`]})}),R=J({});return P(ce(R)),oe(c,s),()=>d(e,O({ref:R},{...s,...I}),{default:()=>{var v,_;return[(v=s.items)==null?void 0:v.map(k=>d(S,O(k,{key:h(k)}),null)),(_=y.default)==null?void 0:_.call(y)]}})}}),[A]),formRenderProps:W,FormItemRender:A,formItemRenderProps:M}}function V(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ee(e)}const{FormRender:Ie}=Oe({Form:ue,formName:"ElFormRender",formProps:ae,FormItem:se,formItemName:"ElFormItemRender",formItemProps:ie,Input:e=>{const{type:l,el:n}=e,r=(n==null?void 0:n.is)||`el-${l||"input"}`;if(!e.options)return d(N(r),n);const o=ye(e.options);if(l=="select"||r=="ElSelect"||!n.is&&!l){let a;return d(F("el-select"),n,V(a=o.map(t=>d(F("el-option"),t,null)))?a:{default:()=>[a]})}else if(l=="checkbox-group"||r=="ElCheckboxGroup"){let a;return d(F("el-checkbox-group"),n,V(a=o.map(t=>{let u,i;return n.type=="button"?d(F("el-checkbox-button"),O(t,{label:t.value}),V(u=G(t))?u:{default:()=>[u]}):d(F("el-checkbox"),O(t,{label:t.value}),V(i=G(t))?i:{default:()=>[i]})}))?a:{default:()=>[a]})}else if(l=="radio-group"||r=="ElRadioGroup"){let a;return d(F("el-radio-group"),n,V(a=o.map(t=>{let u,i;return n.type=="button"?d(F("el-radio-button"),O(t,{label:t.value}),V(u=G(t))?u:{default:()=>[u]}):d(F("el-radio"),O(t,{label:t.value}),V(i=G(t))?i:{default:()=>[i]})}))?a:{default:()=>[a]})}else return d(N(r),{options:o,...n})},fields:{modelValue:e=>({upload:"fileList"})[e.is]||"modelValue"}}),xe=Ie;export{xe as E};
